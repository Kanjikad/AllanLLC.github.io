<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fetishdle</title>
    <style>
        /* --- CSS (ESTILOS) --- */
        :root {
            --correct: #538d4e;
            --present: #b59f3b;
            --absent: #3a3a3c;
            --default: #121213;
            --text: #ffffff;
            --border: #3a3a3c;
        }

        body {
            background-color: var(--default);
            color: var(--text);
            font-family: 'Helvetica Neue', Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 0;
            min-height: 100vh;
        }

        header {
            border-bottom: 1px solid var(--border);
            width: 100%;
            text-align: center;
            padding: 10px 0;
            margin-bottom: 20px;
        }

        h1 { margin: 0; font-size: 24px; letter-spacing: 2px; }

        /* Área da Dica */
        #hint-container {
            background-color: #2c2c2e;
            padding: 10px 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            text-align: center;
            max-width: 90%;
            border: 1px solid var(--border);
        }

        #hint-text { font-weight: bold; color: #4dbce9; }

        /* Tabuleiro do Jogo */
        #game-board {
            display: grid;
            grid-gap: 5px;
            margin-bottom: 30px;
            /* As colunas serão definidas via JS baseadas no tamanho da palavra */
        }

        .tile {
            width: 50px; /* Tamanho base */
            height: 50px;
            border: 2px solid var(--border);
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px;
            font-weight: bold;
            text-transform: uppercase;
            user-select: none;
        }

        /* Responsividade para palavras longas (diminui o quadrado) */
        .tile.small-text { font-size: 16px; width: 35px; height: 35px; }
        .tile.tiny-text { font-size: 12px; width: 25px; height: 25px; }

        /* Estados das Cores */
        .correct { background-color: var(--correct); border-color: var(--correct); }
        .present { background-color: var(--present); border-color: var(--present); }
        .absent { background-color: var(--absent); border-color: var(--absent); }

        /* Animação simples */
        .pop { animation: pop 0.1s; }
        @keyframes pop { 50% { transform: scale(1.1); } }

        /* Mensagens */
        #message-area {
            height: 30px;
            margin-bottom: 10px;
            font-weight: bold;
        }

        /* Botão de Reiniciar */
        button {
            margin-top: 20px;
            padding: 10px 20px;
            background-color: var(--text);
            color: var(--default);
            border: none;
            font-weight: bold;
            cursor: pointer;
            border-radius: 4px;
            display: none; /* Escondido até o fim do jogo */
        }
        button:hover { background-color: #ccc; }

    </style>
</head>
<body>

    <header>
        <h1>FETISHDLE</h1>
    </header>

    <div id="hint-container">
        DICA: <span id="hint-text">...</span>
    </div>

    <div id="message-area"></div>

    <div id="game-board">
        </div>

    <p style="font-size: 12px; color: #888;">Use o teclado físico para digitar.</p>

    <button id="restart-btn" onclick="initGame()">JOGAR NOVAMENTE</button>

    <script>
        /* --- CONFIGURAÇÃO DAS PALAVRAS (BANCO DE DADOS JSON) --- */
        /* Adicione suas palavras aqui. Máximo recomendado: 15 letras */
        const wordDatabase = [
  {"word": "MASOQUISMO", "hint": "Fetiche mais buscado no Brasil: excitação ao receber dor ou humilhação"},
  {"word": "VOYEURISMO", "hint": "Excitação sexual ao observar outras pessoas sem que elas saibam"},
  {"word": "SADISMO", "hint": "Prazer em causar dor ou humilhação no parceiro"},
  {"word": "BONDAGE", "hint": "Uso de amarras, cordas ou algemas para imobilizar o parceiro"},
  {"word": "FACESITTING", "hint": "Prática de sentar no rosto do parceiro para prazer oral"},
  {"word": "FETICHISMO", "hint": "Atração sexual intensa por pés"},
  {"word": "DEGRADACAO", "hint": "Excitação ao ser humilhado ou chamado por nomes pejorativos"},
  {"word": "CHASTITY", "hint": "Uso de cintos ou gaiolas para impedir ereção ou orgasmo"},
  {"word": "EDGING", "hint": "Levar ao limite do orgasmo e parar repetidamente"},
  {"word": "EXIBICIONISMO", "hint": "Excitação ao se mostrar nu ou em atos sexuais em público"},
  {"word": "STRAPON", "hint": "Uso de cinta com consolo para penetração (pegation)"},
  {"word": "FISTING", "hint": "Inserção completa da mão na vagina ou no ânus"},
  {"word": "SOUNDING", "hint": "Inserção de hastes metálicas na uretra"},
  {"word": "OMORASHI", "hint": "Fetiche japonês por segurar xixi ou se molhar de propósito"},
  {"word": "DIRTYTALK", "hint": "Falar sacanagem ou palavrões durante o sexo"},
  {"word": "CUCKOLD", "hint": "Excitação ao ver a parceira com outro homem"},
  {"word": "JOI", "hint": "Vídeos ou áudios em que a pessoa manda você se masturbar"},
  {"word": "CORSELET", "hint": "Fetiche por espartilhos que apertam a cintura"},
  {"word": "PETPLAY", "hint": "Fingir ser animal de estimação (cachorrinho, gatinho etc.)"},
  {"word": "WAXPLAY", "hint": "Pingar cera quente de vela no corpo do parceiro"}
]

        /* --- LÓGICA DO JOGO --- */
        let currentWordObj = {};
        let currentWord = "";
        let currentRow = 0;
        let currentTile = 0;
        let isGameOver = false;
        const maxGuesses = 6; // Número de tentativas

        const board = document.getElementById('game-board');
        const messageArea = document.getElementById('message-area');
        const hintText = document.getElementById('hint-text');
        const restartBtn = document.getElementById('restart-btn');

        function initGame() {
            // Reseta variáveis
            currentRow = 0;
            currentTile = 0;
            isGameOver = false;
            messageArea.textContent = "";
            restartBtn.style.display = "none";
            board.innerHTML = '';

            // 1. Escolhe uma palavra aleatória
            const randomIndex = Math.floor(Math.random() * wordDatabase.length);
            currentWordObj = wordDatabase[randomIndex];
            currentWord = currentWordObj.word.toUpperCase();

            // 2. Mostra a dica
            hintText.textContent = currentWordObj.hint;

            // 3. Configura o Grid CSS dinamicamente
            const wordLength = currentWord.length;
            board.style.gridTemplateColumns = `repeat(${wordLength}, 1fr)`;

            // Ajusta tamanho da letra se a palavra for muito grande
            let tileClass = "tile";
            if (wordLength > 8) tileClass += " small-text";
            if (wordLength > 12) tileClass += " tiny-text";

            // 4. Gera os quadrados no HTML
            for (let i = 0; i < maxGuesses * wordLength; i++) {
                const tile = document.createElement('div');
                tile.className = tileClass;
                tile.setAttribute('id', `tile-${i}`);
                board.appendChild(tile);
            }
        }

        // Escuta o teclado físico
        document.addEventListener('keydown', (e) => {
            if (isGameOver) return;

            const key = e.key.toUpperCase();

            if (key === 'ENTER') {
                checkRow();
            } else if (key === 'BACKSPACE') {
                deleteLetter();
            } else if (isLetter(key)) {
                addLetter(key);
            }
        });

        function isLetter(key) {
            return /^[A-ZÇ]$/i.test(key) && key.length === 1;
        }

        function addLetter(letter) {
            if (currentTile < (currentRow + 1) * currentWord.length) {
                const tile = document.getElementById(`tile-${currentTile}`);
                tile.textContent = letter;
                tile.classList.add('pop');
                tile.style.borderColor = "#888";
                currentTile++;
            }
        }

        function deleteLetter() {
            if (currentTile > currentRow * currentWord.length) {
                currentTile--;
                const tile = document.getElementById(`tile-${currentTile}`);
                tile.textContent = '';
                tile.style.borderColor = "#3a3a3c";
                tile.classList.remove('pop');
            }
        }

        function checkRow() {
            const wordLength = currentWord.length;
            // Verifica se digitou letras suficientes
            if (currentTile !== (currentRow + 1) * wordLength) {
                showMessage("Poucas letras!");
                return;
            }

            // Pega o chute atual
            let guess = "";
            const startTileId = currentRow * wordLength;
            for (let i = 0; i < wordLength; i++) {
                guess += document.getElementById(`tile-${startTileId + i}`).textContent;
            }

            // Lógica de Validação de Cores (Estilo Wordle)
            const guessArray = guess.split('');
            const wordArray = currentWord.split('');
            const tileColors = new Array(wordLength).fill('absent'); // padrão cinza
            
            // Verifica letras VERDES (Corretas e no lugar)
            for (let i = 0; i < wordLength; i++) {
                if (guessArray[i] === wordArray[i]) {
                    tileColors[i] = 'correct';
                    wordArray[i] = null; // Remove para não contar como amarela depois
                    guessArray[i] = null; 
                }
            }

            // Verifica letras AMARELAS (Existem mas lugar errado)
            for (let i = 0; i < wordLength; i++) {
                if (guessArray[i] && wordArray.includes(guessArray[i])) {
                    tileColors[i] = 'present';
                    // Remove a primeira ocorrência dessa letra no wordArray
                    wordArray[wordArray.indexOf(guessArray[i])] = null; 
                }
            }

            // Aplica as cores com animação
            for (let i = 0; i < wordLength; i++) {
                const tile = document.getElementById(`tile-${startTileId + i}`);
                
                // Pequeno delay para efeito cascata
                setTimeout(() => {
                    tile.classList.add(tileColors[i]);
                    // Remove classe de animação se houver
                    tile.style.border = 'none';
                    tile.style.color = 'white';
                }, i * 200);
            }

            // Verifica Vitória ou Derrota
            if (guess === currentWord) {
                setTimeout(() => {
                    showMessage("PARABÉNS!");
                    isGameOver = true;
                    restartBtn.style.display = "block";
                }, wordLength * 200);
            } else {
                if (currentRow >= maxGuesses - 1) {
                    setTimeout(() => {
                        showMessage("Fim de jogo! A palavra era: " + currentWord);
                        isGameOver = true;
                        restartBtn.style.display = "block";
                    }, wordLength * 200);
                } else {
                    currentRow++;
                }
            }
        }

        function showMessage(msg) {
            messageArea.textContent = msg;
            setTimeout(() => {
                if (!isGameOver) messageArea.textContent = "";
            }, 3000);
        }

        // Inicia o jogo ao carregar
        initGame();

    </script>
</body>
</html>